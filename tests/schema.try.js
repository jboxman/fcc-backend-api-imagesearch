const R = require('ramda');

const t = {
 "kind": "customsearch#search",
 "url": {
  "type": "application/json",
  "template": "https://www.googleapis.com/customsearch/v1?q={searchTerms}&num={count?}&start={startIndex?}&lr={language?}&safe={safe?}&cx={cx?}&cref={cref?}&sort={sort?}&filter={filter?}&gl={gl?}&cr={cr?}&googlehost={googleHost?}&c2coff={disableCnTwTranslation?}&hq={hq?}&hl={hl?}&siteSearch={siteSearch?}&siteSearchFilter={siteSearchFilter?}&exactTerms={exactTerms?}&excludeTerms={excludeTerms?}&linkSite={linkSite?}&orTerms={orTerms?}&relatedSite={relatedSite?}&dateRestrict={dateRestrict?}&lowRange={lowRange?}&highRange={highRange?}&searchType={searchType}&fileType={fileType?}&rights={rights?}&imgSize={imgSize?}&imgType={imgType?}&imgColorType={imgColorType?}&imgDominantColor={imgDominantColor?}&alt=json"
 },
 "queries": {
  "request": [
   {
    "title": "Google Custom Search - cats",
    "totalResults": "58000",
    "searchTerms": "cats",
    "count": 10,
    "startIndex": 1,
    "inputEncoding": "utf8",
    "outputEncoding": "utf8",
    "safe": "off",
    "cx": "014304067697241665025:k9zlrt4v4bw",
    "fileType": "jpg"
   }
  ],
  "nextPage": [
   {
    "title": "Google Custom Search - cats",
    "totalResults": "58000",
    "searchTerms": "cats",
    "count": 10,
    "startIndex": 11,
    "inputEncoding": "utf8",
    "outputEncoding": "utf8",
    "safe": "off",
    "cx": "014304067697241665025:k9zlrt4v4bw",
    "fileType": "jpg"
   }
  ]
 },
 "context": {
  "title": "Images"
 },
 "searchInformation": {
  "searchTime": 0.375453,
  "formattedSearchTime": "0.38",
  "totalResults": "58000",
  "formattedTotalResults": "58,000"
 },
 "items": [
  {
   "kind": "customsearch#result",
   "title": "File:CatsGroup.jpg - Wikipedia, the free encyclopedia",
   "htmlTitle": "File:CatsGroup.jpg - Wikipedia, the free encyclopedia",
   "link": "https://en.wikipedia.org/wiki/File:CatsGroup.jpg",
   "displayLink": "en.wikipedia.org",
   "snippet": "No public domain or free image could be substituted, as all screenshots from the \nCats DVD are copyrighted, and because cameras are forbidden during ...",
   "htmlSnippet": "No public domain or free image could be substituted, as all screenshots from the <br>\n<b>Cats</b> DVD are copyrighted, and because cameras are forbidden during&nbsp;...",
   "cacheId": "H0JRloRSwL4J",
   "formattedUrl": "https://en.wikipedia.org/wiki/File:CatsGroup.jpg",
   "htmlFormattedUrl": "https://en.wikipedia.org/wiki/File:<b>Cats</b>Group.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "282",
      "height": "179",
      "src": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRotc_LrvG9FaYQBtKrDb9HzVfp7yXG5z2tlH2ZhJlwdD-AlvMkjH2m5ng"
     }
    ],
    "metatags": [
     {
      "referrer": "origin-when-cross-origin"
     }
    ],
    "cse_image": [
     {
      "src": "https://upload.wikimedia.org/wikipedia/en/4/41/CatsGroup.jpg"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "File:Lombard School c1700 Cats being instructed In the art of mouse ...",
   "htmlTitle": "File:Lombard School c1700 <b>Cats</b> being instructed In the art of mouse ...",
   "link": "https://commons.wikimedia.org/wiki/File:Lombard_School_c1700_Cats_being_instructed_In_the_art_of_mouse-catching_by_an_owl.jpg",
   "displayLink": "commons.wikimedia.org",
   "snippet": "Apr 6, 2016 ... File:Lombard School c1700 Cats being instructed In the art of mouse-catching by \nan owl.jpg. From Wikimedia Commons, the free media ...",
   "htmlSnippet": "Apr 6, 2016 <b>...</b> File:Lombard School c1700 <b>Cats</b> being instructed In the art of mouse-catching by <br>\nan owl.jpg. From Wikimedia Commons, the free media&nbsp;...",
   "cacheId": "j9jrYi6HqSIJ",
   "formattedUrl": "https://commons.wikimedia.org/.../File:Lombard_School_c1700_Cats_being_ instructed_In_the_art_of_mouse-catching_by_an_owl.jpg",
   "htmlFormattedUrl": "https://commons.wikimedia.org/.../File:Lombard_School_c1700_<b>Cats</b>_being_ instructed_In_the_art_of_mouse-<b>cat</b>ching_by_an_owl.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "254",
      "height": "198",
      "src": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbQI5iLreYy9G02dnxRsw4xfAH_dRJBd04EZEz5bGH43b9gZLJoEfJRiP7"
     }
    ],
    "metatags": [
     {
      "referrer": "origin-when-cross-origin"
     }
    ],
    "cse_image": [
     {
      "src": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Lombard_School_c1700_Cats_being_instructed_In_the_art_of_mouse-catching_by_an_owl.jpg/770px-Lombard_School_c1700_Cats_being_instructed_In_the_art_of_mouse-catching_by_an_owl.jpg"
     }
    ],
    "hproduct": [
     {
      "fn": "Lombard School c1700 Cats being instructed In the art of mouse-catching by an owl.jpg"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "'Cats' logo",
   "htmlTitle": "&#39;<b>Cats</b>&#39; logo",
   "link": "https://en.wikipedia.org/wiki/File:CatsMusicalLogo.jpg",
   "displayLink": "en.wikipedia.org",
   "snippet": "Further details: The logo for the musical cats. Source. The logo is from the http://\nwww.musikmarkt-wiesbaden.de/images/CATS%20musical%20LP.jpg website.",
   "htmlSnippet": "Further details: The logo for the musical <b>cats</b>. Source. The logo is from the http://<br>\nwww.musikmarkt-wiesbaden.de/images/<b>CATS</b>%20musical%20LP.jpg website.",
   "cacheId": "B37zkUD4sVcJ",
   "formattedUrl": "https://en.wikipedia.org/wiki/File:CatsMusicalLogo.jpg",
   "htmlFormattedUrl": "https://en.wikipedia.org/wiki/File:<b>Cats</b>MusicalLogo.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "225",
      "height": "225",
      "src": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSzRgWFvbeNj6NdUX1T0CRNk1DXFNOBG497gNIzCjShctJXRY_Sclnc16E"
     }
    ],
    "metatags": [
     {
      "referrer": "origin-when-cross-origin"
     }
    ],
    "cse_image": [
     {
      "src": "https://upload.wikimedia.org/wikipedia/en/3/3e/CatsMusicalLogo.jpg"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "File:Casting Cats.jpg - Wikimedia Commons",
   "htmlTitle": "File:Casting <b>Cats</b>.jpg - Wikimedia Commons",
   "link": "https://commons.wikimedia.org/wiki/File:Casting_Cats.jpg",
   "displayLink": "commons.wikimedia.org",
   "snippet": "Mar 13, 2016 ... English: Title: Casting call for black cats to star in Roger Corman movie ... 1961 \nPublished caption:HOLLYWOOD HUNTS A BLACK CAT-Out of ...",
   "htmlSnippet": "Mar 13, 2016 <b>...</b> English: Title: Casting call for black <b>cats</b> to star in Roger Corman movie ... 1961 <br>\nPublished caption:HOLLYWOOD HUNTS A BLACK <b>CAT</b>-Out of&nbsp;...",
   "cacheId": "iPF6GvgQQpsJ",
   "formattedUrl": "https://commons.wikimedia.org/wiki/File:Casting_Cats.jpg",
   "htmlFormattedUrl": "https://commons.wikimedia.org/wiki/File:Casting_<b>Cats</b>.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "219",
      "height": "230",
      "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSg2ojjNdCexlvC8xh1X9UqXrjpIXvXr5TWY8Pl4GU6V6dlSsBJ7DaSgC0"
     }
    ],
    "metatags": [
     {
      "referrer": "origin-when-cross-origin"
     }
    ],
    "cse_image": [
     {
      "src": "https://upload.wikimedia.org/wikipedia/commons/thumb/8/80/Casting_Cats.jpg/572px-Casting_Cats.jpg"
     }
    ],
    "hproduct": [
     {
      "fn": "Casting Cats.jpg"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "File:Billthecat.jpg - Wikipedia, the free encyclopedia",
   "htmlTitle": "File:Billthecat.jpg - Wikipedia, the free encyclopedia",
   "link": "https://en.wikipedia.org/wiki/File:Billthecat.jpg",
   "displayLink": "en.wikipedia.org",
   "snippet": "picture of Bill the Cat, property of Berkeley Breathed ... It is believed that this \nimage, Billthecat.jpg, is subject to fair use in the article Bill the Cat because:.",
   "htmlSnippet": "picture of Bill the <b>Cat</b>, property of Berkeley Breathed ... It is believed that this <br>\nimage, Billthecat.jpg, is subject to fair use in the article Bill the <b>Cat</b> because:.",
   "cacheId": "2iCT8i7W1dwJ",
   "formattedUrl": "https://en.wikipedia.org/wiki/File:Billthecat.jpg",
   "htmlFormattedUrl": "https://en.wikipedia.org/wiki/File:Billthe<b>cat</b>.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "213",
      "height": "237",
      "src": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9lmuu6kxLhyuFBLsv5e-ywQfV1dFMX1FTga0Nf8c6aGlwc3NA6iO2J0A"
     }
    ],
    "metatags": [
     {
      "referrer": "origin-when-cross-origin"
     }
    ],
    "cse_image": [
     {
      "src": "https://upload.wikimedia.org/wikipedia/en/b/bb/Billthecat.jpg"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "File:Black Cats.jpg - Wikipedia, the free encyclopedia",
   "htmlTitle": "File:Black <b>Cats</b>.jpg - Wikipedia, the free encyclopedia",
   "link": "https://en.m.wikipedia.org/wiki/File:Black_Cats.jpg",
   "displayLink": "en.m.wikipedia.org",
   "snippet": "This file is licensed under the Creative Commons Attribution-Share Alike 3.0 \nUnported license. You are free: to share – to copy, distribute and transmit the \nwork ...",
   "htmlSnippet": "This file is licensed under the Creative Commons Attribution-Share Alike 3.0 <br>\nUnported license. You are free: to share – to copy, distribute and transmit the <br>\nwork&nbsp;...",
   "cacheId": "jM0X30-QTDYJ",
   "formattedUrl": "https://en.m.wikipedia.org/wiki/File:Black_Cats.jpg",
   "htmlFormattedUrl": "https://en.m.wikipedia.org/wiki/File:Black_<b>Cats</b>.jpg",
   "pagemap": {
    "metatags": [
     {
      "referrer": "origin-when-cross-origin",
      "viewport": "initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0, width=device-width"
     }
    ],
    "hproduct": [
     {
      "fn": "Black Cats.jpg"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "File:Pierre Bonnard - Cats on the Railing - Google Art Project.jpg ...",
   "htmlTitle": "File:Pierre Bonnard - <b>Cats</b> on the Railing - Google Art Project.jpg ...",
   "link": "https://en.wikipedia.org/wiki/File:Pierre_Bonnard_-_Cats_on_the_Railing_-_Google_Art_Project.jpg",
   "displayLink": "en.wikipedia.org",
   "snippet": "Artwork image information. Title, English: Cats on the Railing. Artist, Pierre \nBonnard (1867 - 1947) (Details of artist on Google Art Project). Year, 1909. \nCreation ...",
   "htmlSnippet": "Artwork image information. Title, English: <b>Cats</b> on the Railing. Artist, Pierre <br>\nBonnard (1867 - 1947) (Details of artist on Google Art Project). Year, 1909. <br>\nCreation&nbsp;...",
   "cacheId": "9GJr7ADSkbUJ",
   "formattedUrl": "https://en.wikipedia.org/.../File:Pierre_Bonnard_-_Cats_on_the_Railing_-_ Google_Art_Project.jpg",
   "htmlFormattedUrl": "https://en.wikipedia.org/.../File:Pierre_Bonnard_-_<b>Cats</b>_on_the_Railing_-_ Google_Art_Project.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "203",
      "height": "248",
      "src": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSrJJKySAmcDH12gwhzb7PtzIjDFoRKnDFBFD9fqebdFhn2rrsMGuoUQ9U"
     }
    ],
    "metatags": [
     {
      "referrer": "origin-when-cross-origin"
     }
    ],
    "cse_image": [
     {
      "src": "https://upload.wikimedia.org/wikipedia/en/thumb/b/b5/Pierre_Bonnard_-_Cats_on_the_Railing_-_Google_Art_Project.jpg/490px-Pierre_Bonnard_-_Cats_on_the_Railing_-_Google_Art_Project.jpg"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "Image - Lion-o frees cats.jpg | ThunderCats wiki | Fandom powered ...",
   "htmlTitle": "Image - Lion-o frees <b>cats</b>.jpg | ThunderCats wiki | Fandom powered ...",
   "link": "http://thundercats.wikia.com/wiki/File:Lion-o_frees_cats.jpg",
   "displayLink": "thundercats.wikia.com",
   "snippet": "Lion-O (2011 TV series). Lion-O is the son of King Claudus and brother of Tygra. \nThe current Lord of the ThunderCats... User:Wingman1/sandbox page.",
   "htmlSnippet": "Lion-O (2011 TV series). Lion-O is the son of King Claudus and brother of Tygra. <br>\nThe current Lord of the ThunderCats... User:Wingman1/sandbox page.",
   "cacheId": "0zapyKBbq08J",
   "formattedUrl": "thundercats.wikia.com/wiki/File:Lion-o_frees_cats.jpg",
   "htmlFormattedUrl": "thunder<b>cats</b>.wikia.com/wiki/File:Lion-o_frees_<b>cats</b>.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "299",
      "height": "168",
      "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ1_4zMAGOiHL0m97XdrBDkjxREaij_6WhNpLUIbp1dPZTRhF6ik0JXWy3K"
     }
    ],
    "metatags": [
     {
      "viewport": "width=device-width, initial-scale=1.0, user-scalable=yes",
      "twitter:card": "summary",
      "twitter:site": "@Wikia",
      "twitter:url": "http://thundercats.wikia.com/wiki/File:Lion-o_frees_cats.jpg",
      "twitter:title": "Image - Lion-o frees cats.jpg | ThunderCats wiki | Fandom powered...",
      "twitter:description": "Licensing This file is copyrighted. The individual who uploaded this work and first used it in an article, and subsequent persons who place it into articles, assert that this qualifies as fair...",
      "fb:app_id": "112328095453510",
      "og:type": "article",
      "og:site_name": "ThunderCats wiki",
      "og:title": "Lion-o frees cats.jpg",
      "og:description": "Licensing This file is copyrighted. The individual who uploaded this work and first used it in an article, and subsequent persons who place it into articles, assert that this qualifies as fair use of the material under United States copyright law.",
      "og:url": "http://thundercats.wikia.com/wiki/File:Lion-o_frees_cats.jpg",
      "og:image": "http://vignette1.wikia.nocookie.net/thundercats/images/b/bd/Lion-o_frees_cats.jpg/revision/latest?cb=20120407213106",
      "apple-itunes-app": "app-id=623705389"
     }
    ],
    "cse_image": [
     {
      "src": "http://vignette1.wikia.nocookie.net/thundercats/images/b/bd/Lion-o_frees_cats.jpg/revision/latest?cb=20120407213106"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "Image - Disney's Evil Cats.jpg | Disney Wiki | Fandom powered by ...",
   "htmlTitle": "Image - Disney&#39;s Evil <b>Cats</b>.jpg | Disney Wiki | Fandom powered by ...",
   "link": "http://disney.wikia.com/wiki/File:Disney's_Evil_Cats.jpg",
   "displayLink": "disney.wikia.com",
   "snippet": "File:Disney's Evil Cats.jpg. No higher resolution available. Disney's_Evil_Cats.\njpg   (331 × 300 pixels, file size: 26 KB, MIME type: image/jpeg). About; File \nHistory.",
   "htmlSnippet": "File:Disney&#39;s Evil <b>Cats</b>.jpg. No higher resolution available. Disney&#39;s_Evil_Cats.<br>\njpg   (331 × 300 pixels, file size: 26 KB, MIME type: image/jpeg). About; File <br>\nHistory.",
   "cacheId": "2gJ6epeJGnAJ",
   "formattedUrl": "disney.wikia.com/wiki/File:Disney's_Evil_Cats.jpg",
   "htmlFormattedUrl": "disney.wikia.com/wiki/File:Disney&#39;s_Evil_<b>Cats</b>.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "236",
      "height": "214",
      "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS8wUEW7rqja2C41xl2ZNsHtvsoq5kJT4ebA5v9rdjIWyP2HcgFMcvdUCY-"
     }
    ],
    "metatags": [
     {
      "viewport": "width=device-width, initial-scale=1.0, user-scalable=yes",
      "twitter:card": "summary",
      "twitter:site": "@Wikia",
      "twitter:url": "http://disney.wikia.com/wiki/File:Disney%27s_Evil_Cats.jpg",
      "twitter:title": "Image - Disney's Evil Cats.jpg | Disney Wiki | Fandom powered by Wikia",
      "twitter:description": "Image - Disney's Evil Cats.jpg | Disney Wiki | Fandom powered by Wikia",
      "fb:app_id": "112328095453510",
      "og:type": "article",
      "og:site_name": "Disney Wiki",
      "og:title": "Disney's Evil Cats.jpg",
      "og:url": "http://disney.wikia.com/wiki/File:Disney%27s_Evil_Cats.jpg",
      "og:image": "http://vignette3.wikia.nocookie.net/disney/images/e/e6/Disney%27s_Evil_Cats.jpg/revision/latest?cb=20100625142710",
      "apple-itunes-app": "app-id=623705389"
     }
    ],
    "cse_image": [
     {
      "src": "http://vignette3.wikia.nocookie.net/disney/images/e/e6/Disney's_Evil_Cats.jpg/revision/latest?cb=20100625142710"
     }
    ]
   }
  },
  {
   "kind": "customsearch#result",
   "title": "Image - Bricksburg-cats.jpg | Brickipedia | Fandom powered by Wikia",
   "htmlTitle": "Image - Bricksburg-<b>cats</b>.jpg | Brickipedia | Fandom powered by Wikia",
   "link": "http://lego.wikia.com/wiki/File:Bricksburg-cats.jpg",
   "displayLink": "lego.wikia.com",
   "snippet": "Bricksburg-cats.jpg   (218 × 327 pixels, file size: 27 KB, MIME type: image/jpeg). \nAbout; File History; Metadata. There is no description yet. Add a description.",
   "htmlSnippet": "Bricksburg-<b>cats</b>.jpg   (218 × 327 pixels, file size: 27 KB, MIME type: image/jpeg). <br>\nAbout; File History; Metadata. There is no description yet. Add a description.",
   "cacheId": "_P8YRpgH57EJ",
   "formattedUrl": "lego.wikia.com/wiki/File:Bricksburg-cats.jpg",
   "htmlFormattedUrl": "lego.wikia.com/wiki/File:Bricksburg-<b>cats</b>.jpg",
   "pagemap": {
    "cse_thumbnail": [
     {
      "width": "174",
      "height": "261",
      "src": "https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ2TJQIhMBUsZ6XmXVYK1hOJEPKBjqupHiNeHm2QOvlR-fudvBok3y8v5g"
     }
    ],
    "metatags": [
     {
      "viewport": "width=device-width, initial-scale=1.0, user-scalable=yes",
      "twitter:card": "summary",
      "twitter:site": "@Wikia",
      "twitter:url": "http://lego.wikia.com/wiki/File:Bricksburg-cats.jpg",
      "twitter:title": "Image - Bricksburg-cats.jpg | Brickipedia | Fandom powered by Wikia",
      "twitter:description": "Image - Bricksburg-cats.jpg | Brickipedia | Fandom powered by Wikia",
      "fb:app_id": "112328095453510",
      "og:type": "article",
      "og:site_name": "Brickipedia",
      "og:title": "Bricksburg-cats.jpg",
      "og:url": "http://lego.wikia.com/wiki/File:Bricksburg-cats.jpg",
      "og:image": "http://vignette2.wikia.nocookie.net/lego/images/b/b9/Bricksburg-cats.jpg/revision/latest?cb=20140227235335",
      "apple-itunes-app": "app-id=920822426, app-arguments=http://lego.wikia.com/wiki/File:Bricksburg-cats.jpg"
     }
    ],
    "cse_image": [
     {
      "src": "http://vignette2.wikia.nocookie.net/lego/images/b/b9/Bricksburg-cats.jpg/revision/latest?cb=20140227235335"
     }
    ]
   }
  }
 ]
};

//const aMap = R.map((v) => console.log(v));
//R.pipe(
//  R.view(R.lensPath(['items'])),
//  aMap
//)(t);

// But dynamic?
//const z = R.lensPath(['pagemap', 'cse_thumbnail']);

/*
const final = {};

const log = v => console.log(v);

const pickIt = R.pick(['title', 'cacheId', 'pagemap']);
const picked = R.pipe(pickIt)(t.items[0]);

const z = R.mapObjIndexed((k, v, z) => {
  if(k == 'pagemap') {}
})(picked);
*/

//console.log(z);

const done = R.pipe(
  R.pick(['title', 'cacheId', 'snippet'])
)(t.items[0]);

console.log(done);
// This at least gets a width
const getThumb = R.pipe(
  R.path(['pagemap', 'cse_thumbnail']),
  thumbs => thumbs[0],
  R.pick(['width', 'height', 'src'])
);
const getImage = R.pipe(
  R.path(['pagemap', 'cse_image']),
  image => image[0],
  R.pick(['src'])
);
//const getWidth = R.path(['pagemap', 'cse_thumbnail', 'width']);
console.log(getThumb(done));
